[build-system]
requires = ["poetry-core>=1.0.0"]
build-backend = "poetry.core.masonry.api"

[tool.poetry]
name = "trtools"
version = "5.1.1"
authors = [
    "Melissa Gymrek <mgymrek@ucsd.edu>",
    "Gymrek Lab",
]
description = "Toolkit for genome-wide analysis of STRs"
readme = "README.rst"
license = "MIT"
classifiers = [
    "Operating System :: OS Independent",
    "Intended Audience :: Science/Research",
    "Topic :: Scientific/Engineering :: Bio-Informatics",
]
exclude = [
    "trtools/testsupport/*",
    "doc",
    "example-files",
    "trtools/*/*.rst",
    "trtools/*/Example_Files",
    "trtools/dumpSTR/filter_files",
    "trtools/qcSTR/images",
]

[tool.poetry.dependencies]
python = ">=3.7.1"
importlib-metadata = {version = ">=3.0.0", python = "<3.8"}
cyvcf2 = "*"
matplotlib = "*"
numpy = "*"
pandas = "*"
pysam = "*"
scikit-learn = "*"
scipy = "*"
statsmodels = "*"
pyfaidx = "*"

[tool.poetry.group.tests.dependencies]
pytest = ">=6.2.0"
pytest-cov = ">=3.0.0"

[tool.poetry.group.docs.dependencies]
sphinx = ">=3.0.4"
sphinx-rtd-theme = ">=1.0.0"
sphinx-autodoc-typehints = ">=1.12.0"

[tool.poetry.scripts]
"test_trtools.sh" = {reference = "trtools/testsupport/test_trtools.sh", type = "file"}
"trtools_prep_beagle_vcf.sh" = {reference = "scripts/trtools_prep_beagle_vcf.sh", type = "file"}
dumpSTR = "trtools.dumpSTR:run"
mergeSTR = "trtools.mergeSTR:run"
statSTR = "trtools.statSTR:run"
compareSTR = "trtools.compareSTR:run"
qcSTR = "trtools.qcSTR:run"
associaTR = "trtools.associaTR:run"
prancSTR = "trtools.prancSTR:run"
simTR = "trtools.simTR:run"

[project.urls]
Homepage = "https://trtools.readthedocs.org"
Documentation = "https://trtools.readthedocs.org"
Repository = "https://github.com/gymrek-lab/trtools.git"
Changelog = "https://github.com/gymrek-lab/trtools/blob/master/CHANGELOG.md"

[tool.pytest.ini_options]
addopts = """
--ignore noxfile.py
-p trtools.testsupport.dataloader
--doctest-modules
"""

[tool.coverage.run]
omit = [
    ".nox/*",
    "noxfile.py",
]

[tool.coverage.report]
exclude_lines = [
    "pragma: no cover",
]

[tool.pylint.BASIC]
function-naming-style = "PascalCase"
method-naming-style = "PascalCase"

[tool.pylint.'MESSAGES CONTROL']
disable = "invalid-name" # not interested in module naming conventions
